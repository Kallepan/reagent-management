<ng-container formArrayName="reagents">
    <div class="reagent-form">
        @for (reagentForm of reagents.controls; track $index) {
        <span [formGroup]="getReagent($index)" class="row">
            <mat-form-field appearance="fill">
                <mat-label>Reagenz</mat-label>
                <input matInput formControlName="id" placeholder="RTS150ING|U0623-017|250131|230626882"
                    class="input-element">
                <mat-hint>Bitte geben Sie die Reagenz-ID ein.</mat-hint>
                @if (getReagent($index).controls['id'].hasError('reagentAlreadyExists')) {
                <mat-error>
                    Reagenz mit dieser ID existiert bereits.
                </mat-error>
                }
                @if (getReagent($index).controls['id'].hasError('pattern')) {
                <mat-error>
                    Das Format der Reagenz-ID ist ungÃ¼ltig.
                </mat-error>
                }
            </mat-form-field>
            <button mat-mini-fab color="warn" (click)="removeReagentForm($index)" class="remove-button">
                <mat-icon>
                    delete_forever
                </mat-icon>
            </button>
        </span>
        }
        <div class="actions">
            <button class="add-button" mat-mini-fab color="accent" (click)="addReagentForm()">
                <mat-icon>add</mat-icon>
            </button>
            <button class="submit-button" mat-mini-fab color="accent" (click)="onSubmit.emit()" [disabled]="isDisabled()">
                <mat-icon>done</mat-icon>
            </button>
        </div>
    </div>
</ng-container>